import{A as E,a as l,x as n,U as r,V as v,W as u}from"./index-DUI3biLs.js";import{l as x,a as L}from"./service-C9zbT-OU.js";const A=E("service",()=>{const a=l([]),i=l(""),t=l([]),c=l(!1),d=n(()=>a.value.find(e=>e.id===i.value)||null),o=n(()=>t.value.map(e=>a.value.find(s=>s.id===e)).filter(Boolean)),f=n(()=>a.value.filter(e=>e.isEnabled)),S=n(()=>a.value.filter(e=>e.healthStatus==="HEALTHY"&&e.isEnabled));async function _(e){c.value=!0;try{a.value=await x(e)}finally{c.value=!1}}async function m(){c.value=!0;try{a.value=await L()}finally{c.value=!1}}function h(){const e=r("recent_service_ids");e&&(t.value=e)}function y(e){i.value=e,t.value.includes(e)||(t.value.unshift(e),t.value.length>5&&(t.value=t.value.slice(0,5))),v("selected_service_id",e),v("recent_service_ids",t.value)}function I(){const e=r("selected_service_id");e&&(i.value=e);const s=r("recent_service_ids");s&&(t.value=s)}function g(e){const s=a.value.findIndex(b=>b.id===e.id);s!==-1&&(a.value[s]=e)}function p(){a.value=[],i.value="",t.value=[],u("selected_service_id"),u("recent_service_ids")}return{services:a,selectedServiceId:i,recentServiceIds:t,isLoading:c,selectedService:d,recentServices:o,enabledServices:f,healthyServices:S,fetchServices:_,fetchEnabledServices:m,fetchRecentServices:h,selectService:y,restoreSelectedService:I,updateServiceInList:g,clearServiceData:p}});export{A as u};
