# 用户模块 - 模块设计

> 本模块负责用户信息管理

## 模块功能

### 核心功能
- 用户信息查询：获取当前登录用户的详细信息
- 用户信息更新：更新用户名、头像等基本信息
- 用户头像管理：上传和更新用户头像
- 用户统计信息：查询用户的工作流数量、会话数量等统计数据

### 依赖模块
- 无（基础模块）

## 业务逻辑

### 1. 用户信息查询
- 通过JWT Token获取当前用户ID(这个需要放到redis里)
- 从数据库查询用户详细信息
- 过滤敏感字段（如密码哈希）
- 返回用户信息DTO

### 2. 用户信息更新
- 验证用户身份（JWT Token）
- 校验更新字段的合法性
- 更新用户名：长度限制1-50字符
- 更新头像URL：验证URL格式
- 记录更新时间和更新人
- 返回更新后的用户信息

### 3. 数据安全
- 密码字段永不返回给前端
- 用户只能查询和修改自己的信息
- 敏感操作需要二次验证（如修改邮箱、密码）
